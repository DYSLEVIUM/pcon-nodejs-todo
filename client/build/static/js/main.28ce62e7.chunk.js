(this["webpackJsonptodo-client"]=this["webpackJsonptodo-client"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},17:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n(0),i=n.n(c),a=n(8),o=n.n(a),s=(n(14),n(15),n(2)),u=n.n(s),l=n(3),d=n(4),p=n(5);function j(){return fetch("https://api.ipify.org/?format=json",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()}))}var b="/api";function f(t){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fetch,t.t1="".concat(b,"/addNote"),t.t2={"Content-Type":"application/json"},t.t3=JSON,t.t4=p.a,t.t5=Object(p.a)({},e),t.t6={},t.next=9,j().then((function(t){return t.ip}));case 9:return t.t7=t.sent,t.t8={publicId:t.t7},t.t9=(0,t.t4)(t.t5,t.t6,t.t8),t.t10=t.t3.stringify.call(t.t3,t.t9),t.t11={method:"POST",headers:t.t2,body:t.t10},t.abrupt("return",(0,t.t0)(t.t1,t.t11).then((function(t){return t.json()})));case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return fetch("".concat(b,"/getNotes"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()}))}function x(t,e){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fetch,t.t1="".concat(b,"/updateNote/").concat(e),t.t2={"Content-Type":"application/json"},t.t3=JSON,t.t4=p.a,t.t5=Object(p.a)({},n),t.t6={},t.next=9,j().then((function(t){return t.ip}));case 9:return t.t7=t.sent,t.t8={publicId:t.t7},t.t9=(0,t.t4)(t.t5,t.t6,t.t8),t.t10=t.t3.stringify.call(t.t3,t.t9),t.t11={method:"POST",headers:t.t2,body:t.t10},t.abrupt("return",(0,t.t0)(t.t1,t.t11).then((function(t){return t.json()})));case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(17);function m(t){var e=Object(c.useState)(!1),n=Object(d.a)(e,2),i=n[0],a=n[1],o=Object(c.useRef)(null),s=Object(c.useRef)(null),p=function(){var e=Object(l.a)(u.a.mark((function e(){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={title:(null===(n=o.current)||void 0===n?void 0:n.innerText)||"",description:(null===(r=s.current)||void 0===r?void 0:r.innerText)||""},a(!1),e.next=4,x(t.note.noteId,c);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=t.note.noteId,fetch("".concat(b,"/deleteNote/").concat(n),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()}));case 2:t.onDeleteNote();case 3:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"noteListItemContainer",children:[Object(r.jsx)("div",{className:"titleContainer",children:Object(r.jsx)("div",{className:"noteTitle",contentEditable:!!i,suppressContentEditableWarning:!0,style:i?{cursor:"text"}:{cursor:"default"},ref:o,children:t.note.title})}),Object(r.jsx)("div",{className:"descriptionContainer",children:Object(r.jsx)("div",{className:"noteDesc",contentEditable:!!i,suppressContentEditableWarning:!0,style:i?{cursor:"text"}:{cursor:"default"},ref:s,children:t.note.description})}),Object(r.jsxs)("div",{className:"btnContainer",children:[Object(r.jsx)("button",{onClick:p,style:i?{display:"block"}:{display:"none"},className:"doneBtn",children:"Done"}),Object(r.jsx)("button",{onClick:function(){return a(!0)},style:i?{display:"none"}:{display:"block"},className:"editBtn",children:"Edit"}),Object(r.jsx)("button",{onClick:j,className:"deleteBtn",children:"Delete"})]})]})}n(18);var y=n(6);function N(){var t=Object(c.useState)([]),e=Object(d.a)(t,2),n=e[0],i=e[1],a=Object(c.useState)(!1),o=Object(d.a)(a,2),s=o[0],p=o[1],j=Object(c.useRef)(null),b=Object(c.useRef)(null);Object(c.useEffect)((function(){s||(Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O().then((function(t){return i(t)}));case 2:case"end":return t.stop()}}),t)})))(),p(!0))}),[s]);var h=function(){var t=Object(l.a)(u.a.mark((function t(){var e,n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={title:(null===(e=j.current)||void 0===e?void 0:e.innerText)||"",description:(null===(n=b.current)||void 0===n?void 0:n.innerText)||""},t.next=3,f(r);case 3:return j.current&&(j.current.innerText=""),b.current&&(b.current.innerText=""),t.next=7,O().then((function(t){return i(t)}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.jsxs)(y.a.div,{className:"noteListContainerWrapper",initial:{opacity:0,translateY:25},animate:{opacity:1,translateY:0},transition:{delay:1},children:[Object(r.jsx)("div",{className:"noteListContainer",children:n.map((function(t,e){return Object(r.jsx)(m,{note:t,onDeleteNote:function(){return p(!1)}},e)})).reverse()}),Object(r.jsxs)("div",{className:"addNoteContainer",children:[Object(r.jsxs)("div",{className:"noteTitleContainer",children:[Object(r.jsx)("div",{className:"heading",children:"Note Title"}),Object(r.jsx)("div",{className:"noteTitle",contentEditable:!0,suppressContentEditableWarning:!0,ref:j})]}),Object(r.jsxs)("div",{className:"noteDescriptionContainer",children:[Object(r.jsx)("div",{className:"heading",children:"Note Description"}),Object(r.jsx)("div",{className:"noteDescription",contentEditable:!0,suppressContentEditableWarning:!0,ref:b})]}),Object(r.jsx)("button",{type:"submit",onClick:h,className:"addBtn",children:"Add"})]})]})}var C=function(){return Object(r.jsxs)(y.a.main,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:[Object(r.jsx)("div",{className:"title",children:"Pcon Nodejs Todo App"}),Object(r.jsx)(N,{}),Object(r.jsxs)("div",{className:"disclaimer",children:[Object(r.jsx)("p",{children:Object(r.jsx)("a",{href:"https://github.com/DYSLEVIUM/pcon-nodejs-todo",rel:"noreferrer",target:"_blank",children:"Click to open repository in github."})}),Object(r.jsx)("p",{children:"Please don't post any NSFW content. I am recording the public ip as well. \ud83d\ude05"})]})]})},T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,i=e.getLCP,a=e.getTTFB;n(t),r(t),c(t),i(t),a(t)}))};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(C,{})}),document.getElementById("root")),T()}},[[19,1,2]]]);
//# sourceMappingURL=main.28ce62e7.chunk.js.map